import { H3 } from '@undp/design-system-react';
import { useQuery } from '@tanstack/react-query';

import '@/styles/fonts.css';
import '@/styles/style.css';
import undpLogo from './assets/undp-logo-blue.svg';

function useTodoData() {
  return useQuery({
    queryKey: ['todos'],
    queryFn: () =>
      Promise.resolve([
        { id: 1, name: 'Alice' },
        { id: 2, name: 'Bob' },
        { id: 3, name: 'Charlie' },
      ]),
    initialData: [],
  });
}

function App() {
  const { data, isLoading, isError } = useTodoData();

  if (isLoading) 
    return (
      <div className='undp-container'>
        <Spinner size='lg' className='my-20 m-auto' />
      </div>
    );

  if (isError)
    return (
      <div className='undp-container'>
        <div className='px-4 mx-auto'>
          <div>Error</div>
        </div>
      </div>
    );
    
  return (
    <div className='undp-container'>
      <div className='m-5'>
        <div>
          <img
            src={undpLogo}
            className='logo react mb-8'
            alt='React logo'
            width='72px'
            style={{ marginLeft: 'auto', marginRight: 'auto' }}
          />
        </div>
        <H3 className='text-center'>
          This is template for building visualization and frontend project
          maintained by UNDP&apos;s DAI Hub.
          <br />
          <br />
          Contact us at data@undp.org if you have any feedback or questions.
          <br />
          <br />
          {data.length} elements in the query
        </H3>
      </div>
    </div>
  );
}

export default App;
